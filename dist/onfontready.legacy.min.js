window.onfontready=function(t,e,o){o=o||"onfontready",o.timeoutAfter&&setTimeout(function(){n&&(o.onTimeout||d)(d())},o.timeoutAfter);var n,i=function(){n&&(t=n.childNodes[0].childNodes[0].childNodes[0].childNodes[0].clientWidth)==n.childNodes[1].childNodes[0].childNodes[0].childNodes[0].clientWidth&&t==n.childNodes[2].childNodes[0].childNodes[0].childNodes[0].clientWidth&&e(d())},d=function(){n&&document.body.removeChild(n),n=0},s=function(t,e,o,s){o=document.createElement("iframe"),s=function(){i(),n&&(o.contentWindow.attachEvent?o.contentWindow.attachEvent("onresize",i):o.contentWindow.onresize=i)},o.attachEvent?o.attachEvent("onload",s):o.onload=s,d=function(){o.contentWindow&&(o.contentWindow.attachEvent?o.contentWindow.detachEvent("onresize",i):o.contentWindow.onresize=0),o.attachEvent?o.detachEvent("onload",s):o.onload=0,t()},o.style.cssText="position:absolute;right:999%;bottom:999%;width:999%",n.childNodes[e].childNodes[0].childNodes[0].childNodes[0].appendChild(o)},c=o.sampleText||"onfontready";document.body.appendChild(n=document.createElement("div")).innerHTML="<table style=position:absolute;right:999%;bottom:999%;width:auto><tr><td style=position:relative><tr><td style=\"white-space:pre;font:999% '"+t+"',serif\">"+c+"</table><table style=position:absolute;right:999%;bottom:999%;width:auto><tr><td style=position:relative><tr><td style=\"white-space:pre;font:999% '"+t+"',sans-serif\">"+c+"</table><table style=position:absolute;right:999%;bottom:999%;width:auto><tr><td style=position:relative><tr><td style=\"white-space:pre;font:999% '"+t+"',monospace\">"+c+"</table>",i(),n&&s(d,0),n&&s(d,1),n&&s(d,2)};