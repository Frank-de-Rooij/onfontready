window.onfontready=function(t,e,n){n=n||t,n.timeoutAfter&&setTimeout(function(){a&&(i(),n.onTimeout&&n.onTimeout())},n.timeoutAfter);var o=function(t,e,n){n=document.createElement("iframe"),n.onload=function(){d(n.contentWindow.onresize=d,n.contentWindow.attachEvent&&n.contentWindow.attachEvent("onresize",d))},i=function(){t(n.contentWindow&&(n.contentWindow.onresize=n.contentWindow.attachEvent&&n.contentWindow.detachEvent("onresize",d)),n.onload=n.attachEvent&&n.detachEvent("onload",n.onload))},n.style.cssText="position:absolute;width:999%",e.firstChild.firstChild.firstChild.appendChild(n,n.attachEvent&&n.attachEvent("onload",n.onload))},i=function(){a&&(document.body.removeChild(a),a=0)},a=document.createElement("div"),d=function(){a&&a.firstChild.clientWidth==a.lastChild.clientWidth&&e(i())};d(document.body.appendChild(a).innerHTML='<table style=position:absolute;width:auto;right:999%;bottom:999%><tr><td style=position:relative><tr><td style="font:999px serif;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+t+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;width:auto;right:999%;bottom:999%><tr><td style=position:relative><tr><td style="font:999px serif;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+t+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),a&&o(i,a.firstChild),a&&o(i,a.lastChild)};