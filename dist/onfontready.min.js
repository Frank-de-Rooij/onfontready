window.onfontready=function(e,t,i){i=i||0,i.timeoutAfter&&setTimeout(function(){o&&(document.body.removeChild(o),o=0,i.onTimeout&&i.onTimeout())},i.timeoutAfter);var n=function(){o&&o.firstChild.clientWidth==o.lastChild.clientWidth&&(document.body.removeChild(o),o=0,t())},o=document.createElement("div");n(document.body.appendChild(o).innerHTML='<div style="position:fixed;right:999%;bottom:999%;white-space:pre;font:999px '+(i.generic?"":"'")+e+(i.generic?"":"'")+',serif">'+(i.sampleText||" ")+'</div><div style="position:fixed;right:999%;bottom:999%;white-space:pre;font:999px '+(i.generic?"":"'")+e+(i.generic?"":"'")+',monospace">'+(i.sampleText||" ")+"</div>"),o&&(o.firstChild.appendChild(e=document.createElement("iframe")).style.width="999%",e.contentWindow.onresize=n,e=0),o&&(o.lastChild.appendChild(e=document.createElement("iframe")).style.width="999%",e.contentWindow.onresize=n,e=0),o&&setTimeout(n)};