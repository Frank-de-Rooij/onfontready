window.onfontready=function(e,t,o){o=o||{},o.timeoutAfter&&setTimeout(function(e,t,o){e=n,a(),e&&e()},o.timeoutAfter);var n=o.onTimeout,i=document.createElement("div"),d=function(){i&&2*i.childNodes[0].getBoundingClientRect().left==i.childNodes[1].getBoundingClientRect().left+i.childNodes[2].getBoundingClientRect().left&&t(a())},a=function(){i&&document.body.removeChild(i),i=n=0},l=function(e,t,o){e.onload=function(){d(),i&&(e.contentWindow.onresize=d)},a=function(){t(e.onload=(e.contentWindow||{}).onresize=0)},e.style.cssText="position:absolute;right:999%;bottom:999%;width:100%"};document.body.appendChild(i),i.innerHTML="<div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',sans-serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',monospace\">"+(o.sampleText||"onfontready")+"</div>",d(),i&&(l(l.e=document.createElement("iframe"),a),l(l.a=document.createElement("iframe"),a),l(l.o=document.createElement("iframe"),a),i.childNodes[0].appendChild(l.e),i.childNodes[1].appendChild(l.a),i.childNodes[2].appendChild(l.o))};