window.onfontready=function(e,t,o){o=o||"onfontready",o.timeoutAfter&&setTimeout(function(){i&&(o.onTimeout||c)(c())},o.timeoutAfter);var n,i=document.createElement("div"),d=function(){i&&(n=i.childNodes[0].clientWidth)==i.childNodes[1].clientWidth&&n==i.childNodes[2].clientWidth&&t(c())},c=function(){i&&document.body.removeChild(i),i=0},s=function(e,t,o){o=document.createElement("iframe"),o.onload=function(){d(),i&&(o.contentWindow.onresize=d)},c=function(){e(o.onload=(o.contentWindow||"onfontready").onresize=0)},o.style.width="999%",i.childNodes[t].appendChild(o)};document.body.appendChild(i).innerHTML="<div style=\"font:999% '"+e+"',serif;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div><div style=\"font:999% '"+e+"',sans-serif;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div><div style=\"font:999% '"+e+"',monospace;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div>",d(),i&&s(c,0),i&&s(c,1),i&&s(c,2)};