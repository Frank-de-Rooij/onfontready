window.onfontready=function(e,t,o){o=o||"onfontready",o.timeoutAfter&&setTimeout(function(){n&&(o.onTimeout||d)(d())},o.timeoutAfter);var n,i=function(){n&&(e=n.childNodes[0].clientWidth)==n.childNodes[1].clientWidth&&e==n.childNodes[2].clientWidth&&t(d())},d=function(){n&&document.body.removeChild(n),n=0},c=function(e,t,o){o=document.createElement("iframe"),o.onload=function(){i(),n&&(o.contentWindow.onresize=i)},d=function(){e(o.onload=(o.contentWindow||"onfontready").onresize=0)},o.style.width="999%",n.childNodes[t].appendChild(o)};document.body.appendChild(n=document.createElement("div")).innerHTML="<div style=\"font:999% '"+e+"',serif;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div><div style=\"font:999% '"+e+"',sans-serif;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div><div style=\"font:999% '"+e+"',monospace;position:fixed;right:999%;bottom:999%;white-space:pre\">"+(o.sampleText||"onfontready")+"</div>",i(),n&&c(d,0),n&&c(d,1),n&&c(d,2)};