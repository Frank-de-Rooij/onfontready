window.onfontready=function(e,t,o){o=o||{},o.timeoutAfter&&setTimeout(function(){n&&(d(),o.onTimeout&&o.onTimeout())},o.timeoutAfter);var n=document.createElement("div"),i=function(){n&&2*n.childNodes[0].getBoundingClientRect().left==n.childNodes[1].getBoundingClientRect().left+n.childNodes[2].getBoundingClientRect().left&&t(d())},d=function(){n&&document.body.removeChild(n),n=0},a=function(e,t,o){e.onload=function(){i(),n&&(e.contentWindow.onresize=i)},d=function(){t(e.onload=(e.contentWindow||{}).onresize=0)},e.style.cssText="position:absolute;right:999%;bottom:999%;width:100%"};document.body.appendChild(n),n.innerHTML="<div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',sans-serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:absolute;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',monospace\">"+(o.sampleText||"onfontready")+"</div>",i(),n&&(a(a.e=document.createElement("iframe"),d),a(a.a=document.createElement("iframe"),d),a(a.o=document.createElement("iframe"),d),n.childNodes[0].appendChild(a.e),n.childNodes[1].appendChild(a.a),n.childNodes[2].appendChild(a.o))};