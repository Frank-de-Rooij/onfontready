window.onfontready=function(e,t,o){o=o||"onfontready",o.timeoutAfter&&setTimeout(function(){n&&(d(),o.onTimeout&&o.onTimeout())},o.timeoutAfter);var n,i=function(){n&&2*n.childNodes[0].getBoundingClientRect().left==n.childNodes[1].getBoundingClientRect().left+n.childNodes[2].getBoundingClientRect().left&&t(d())},d=function(){n&&document.body.removeChild(n),n=0},f=function(e,t,o){o=document.createElement("iframe"),o.onload=function(){i(),n&&(o.contentWindow.onresize=i)},d=function(){e(o.onload=(o.contentWindow||"onfontready").onresize=0)},o.style.width="999%",n.childNodes[t].appendChild(o)};document.body.appendChild(n=document.createElement("div")).innerHTML="<div style=\"position:fixed;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:fixed;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',sans-serif\">"+(o.sampleText||"onfontready")+"</div><div style=\"position:fixed;right:999%;bottom:999%;white-space:nowrap;font:999% '"+e+"',monospace\">"+(o.sampleText||"onfontready")+"</div>",i(),n&&f(d,0),n&&f(d,1),n&&f(d,2)};